<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Notícias e Alertas de Cibersegurança – Unificado</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Fonts e Ícones -->
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Orbitron:wght@500&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    /*************************************************
     *               VARIÁVEIS DE TEMA               *
     *************************************************/
    :root {
      --bg-dark: #0a0a0a;
      --neon-pink: #ff00ff;
      --neon-cyan: #00ffff;
      --neon-green: #00ff4c;
      --neon-yellow: #ffd300;
      --alert-red: #ff073a;
      --text-light: #fff;
      --transition-speed: 0.3s;
    }

    /*************************************************
     *            RESET E ESTILOS BÁSICOS            *
     *************************************************/
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Roboto', sans-serif;
      background: var(--bg-dark);
      color: var(--text-light);
      padding-top: 70px; /* caso tenha uma NAV fixa */
      min-height: 100vh;
      overflow-x: hidden;
    }

    .container {
      width: 90%;
      max-width: 1400px;
      margin: 2rem auto;
      position: relative;
    }

    .section-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.8rem;
      color: var(--neon-pink);
      text-align: center;
      text-transform: uppercase;
      margin-bottom: 2rem;
      letter-spacing: 1px;
      text-shadow: 0 0 5px var(--neon-pink);
    }

    /*************************************************
     *        BOX COM BORDA GLITCH (CYBER-BORDER)    *
     *************************************************/
    .cyber-border {
      position: relative;
      border: 2px solid var(--neon-pink);
      box-shadow: 0 0 15px var(--neon-pink);
      border-radius: 8px;
      padding: 2rem;
      margin-bottom: 2rem;
      overflow: hidden;
    }
    .cyber-border::before {
      content: '';
      position: absolute;
      top: -5px;
      left: -5px;
      right: -5px;
      bottom: -5px;
      border: 2px solid var(--neon-cyan);
      border-radius: 8px;
      z-index: -1;
      animation: glitch 2s infinite;
    }
    @keyframes glitch {
      0% { opacity: 0.3; }
      50% { opacity: 0.8; transform: skew(2deg); }
      100% { opacity: 0.3; }
    }

    /*************************************************
     *   SEÇÃO DE NOTÍCIAS / ALERTAS (JÁ EXISTENTES) *
     *************************************************/
    .news-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
    }
    .news-card {
      background: #111;
      border: 1px solid #2d3748;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.5);
      padding: 1.5rem;
      transition: transform 0.3s ease;
    }
    .news-card:hover {
      transform: translateY(-5px);
    }
    .news-title {
      font-size: 1.2rem;
      color: var(--neon-yellow);
      margin-bottom: 0.5rem;
      font-family: 'Orbitron', sans-serif;
    }
    .news-date {
      font-size: 0.85rem;
      color: #aaa;
      margin-bottom: 0.8rem;
      font-style: italic;
    }
    .news-content {
      font-size: 1rem;
      line-height: 1.5;
      margin-bottom: 1rem;
    }

    /*************************************************
     *         LISTA DE DICAS DE PROTEÇÃO            *
     *************************************************/
    .tips-box {
      margin-top: 2rem;
      padding: 1.5rem;
      background: #222;
      border-radius: 10px;
      box-shadow: 0 0 10px var(--neon-green);
    }
    .tips-title {
      font-family: 'Orbitron', sans-serif;
      color: var(--neon-green);
      margin-bottom: 1rem;
      font-size: 1.3rem;
    }
    .tips-list {
      list-style: none;
      padding-left: 0;
    }
    .tips-list li {
      margin-bottom: 0.8rem;
      display: flex;
      align-items: flex-start;
      gap: 0.5rem;
    }
    .tips-list li i {
      color: var(--neon-green);
      margin-top: 3px;
    }

    /*************************************************
     *             SEÇÃO DE COMENTÁRIOS              *
     *************************************************/
    .comment-section {
      margin-top: 2rem;
      background: #222;
      padding: 1.5rem;
      border-radius: 10px;
      box-shadow: 0 0 10px var(--neon-green);
    }
    .comment-section h2 {
      text-align: center;
      font-family: 'Orbitron', sans-serif;
      color: var(--neon-green);
      margin-bottom: 1rem;
      font-size: 1.3rem;
      text-transform: uppercase;
    }
    .comment-box {
      width: 100%;
      padding: 0.8rem;
      border: none;
      border-radius: 8px;
      background: #333;
      color: #fff;
      font-family: 'Roboto', sans-serif;
      margin-bottom: 1rem;
      resize: vertical;
    }
    .comment-btn {
      background: linear-gradient(135deg, var(--neon-pink), var(--neon-cyan));
      border: none;
      padding: 0.8rem 1.2rem;
      color: #000;
      cursor: pointer;
      margin-top: 0.5rem;
      border-radius: 8px;
      transition: transform var(--transition-speed);
      font-family: 'Orbitron', sans-serif;
      font-weight: 600;
    }
    .comment-btn:hover {
      transform: scale(1.05);
    }
    .comments-list {
      margin-top: 1rem;
      max-height: 350px; /* Rolagem se ficar muito grande */
      overflow-y: auto;
    }
    .comment-item {
      background: #444;
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 0.5rem;
      font-size: 0.95rem;
      border-left: 4px solid var(--neon-green);
      position: relative;
    }
    .comment-meta {
      font-size: 0.8rem;
      color: #bbb;
      margin-top: 0.5rem;
    }
    .delete-btn {
      position: absolute;
      right: 10px;
      top: 10px;
      background: none;
      border: none;
      color: var(--neon-pink);
      cursor: pointer;
      font-size: 1rem;
    }
    .delete-btn:hover {
      color: red;
    }

    /*************************************************
     *    NOVAS SEÇÕES EXTRAS: HACKER ÉTICO, ETC     *
     *************************************************/
    .extra-section-title {
      font-family: 'Orbitron', sans-serif;
      color: var(--neon-cyan);
      text-transform: uppercase;
      margin-bottom: 1.5rem;
      font-size: 1.5rem;
      text-align: center;
    }
    .extra-content {
      line-height: 1.6;
      font-size: 1rem;
      margin-bottom: 1.5rem;
    }
    .extra-subtitle {
      color: var(--neon-yellow);
      font-family: 'Orbitron', sans-serif;
      margin: 1rem 0 0.5rem 0;
      font-size: 1.2rem;
    }

    /*************************************************
     *        API DE NOTÍCIAS EM TEMPO REAL          *
     *************************************************/
    .realtime-news-box {
      background: #111;
      padding: 1.5rem;
      border-radius: 10px;
      box-shadow: 0 0 10px var(--neon-pink);
      margin-top: 2rem;
    }
    .realtime-title {
      font-family: 'Orbitron', sans-serif;
      color: var(--neon-pink);
      font-size: 1.3rem;
      margin-bottom: 1rem;
      text-transform: uppercase;
    }
    .realtime-news-list {
      list-style: none;
      padding-left: 0;
    }
    .realtime-news-item {
      background: #222;
      margin-bottom: 1rem;
      padding: 1rem;
      border-radius: 8px;
      transition: transform 0.3s ease;
    }
    .realtime-news-item:hover {
      transform: scale(1.01);
    }
    .news-item-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.1rem;
      color: var(--neon-green);
      margin-bottom: 0.3rem;
    }
    .news-item-body {
      font-size: 0.95rem;
      color: #ddd;
    }

    /* Botão "Erro" no fim da página (verde, sem fundo) */
    .error-button {
      display: block;
      margin: 2rem auto 4rem auto;
      border: none;
      background: none;
      color: var(--neon-green);
      font-size: 1.2rem;
      font-family: 'Orbitron', sans-serif;
      cursor: pointer;
      text-transform: uppercase;
      text-shadow: 0 0 5px var(--neon-green);
      transition: transform var(--transition-speed);
    }
    .error-button:hover {
      transform: scale(1.05);
    }

    /************************************************
     * MODAL PARA SENHA (pop-up estilizado)
     ************************************************/
    #modal-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 9999;
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background: #222;
      border: 2px solid var(--neon-green);
      border-radius: 10px;
      width: 300px;
      padding: 1.5rem;
      text-align: center;
      box-shadow: 0 0 10px var(--neon-pink);
      position: relative;
    }
    .modal-content h2 {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.2rem;
      margin-bottom: 1rem;
      color: var(--neon-pink);
      text-transform: uppercase;
      text-shadow: 0 0 5px var(--neon-pink);
    }
    .modal-content input[type="password"] {
      width: 80%;
      padding: 0.5rem;
      border-radius: 8px;
      border: none;
      margin-bottom: 1rem;
      background: #333;
      color: #fff;
      text-align: center;
    }
    .modal-content button {
      background: linear-gradient(135deg, var(--neon-pink), var(--neon-cyan));
      border: none;
      padding: 0.5rem 1rem;
      color: #000;
      cursor: pointer;
      border-radius: 8px;
      font-family: 'Orbitron', sans-serif;
      font-weight: 600;
      transition: transform var(--transition-speed);
    }
    .modal-content button:hover {
      transform: scale(1.05);
    }
    #password-error {
      color: var(--alert-red);
      margin-top: 0.5rem;
      font-size: 0.9rem;
      min-height: 18px; /* espaço para a mensagem */
    }

    .close-btn {
      position: absolute;
      top: 10px; right: 10px;
      background: none;
      border: none;
      color: var(--alert-red);
      font-size: 1.2rem;
      cursor: pointer;
    }
    .close-btn:hover {
      color: #fff;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- TÍTULO PRINCIPAL -->
    <h1 class="section-title">Notícias e Alertas de Cibersegurança</h1>

    <!-- PRIMEIRA cyber-border: Notícias, Dicas e Comentários (com localStorage) -->
    <div class="cyber-border">
      <div class="news-grid">
        <!-- Exemplo de Cartões de Notícia -->
        <div class="news-card">
          <h2 class="news-title">Novo Ataque de Ransomware Atinge Empresas Globais</h2>
          <p class="news-date">24/02/2025</p>
          <p class="news-content">
            Uma onda de ransomware está se espalhando rapidamente, comprometendo infraestruturas críticas. Especialistas recomendam manter backups off-line e sistemas sempre atualizados.
          </p>
        </div>
        <div class="news-card">
          <h2 class="news-title">Falha Zero-Day no Windows Permite Execução Remota</h2>
          <p class="news-date">23/02/2025</p>
          <p class="news-content">
            Uma vulnerabilidade crítica permite que invasores executem código sem interação do usuário. A Microsoft promete patch de correção ainda esta semana.
          </p>
        </div>
        <div class="news-card">
          <h2 class="news-title">Alertas de Phishing Alvejando Usuários de Banco Digital</h2>
          <p class="news-date">22/02/2025</p>
          <p class="news-content">
            Criminosos estão enviando e-mails falsos solicitando dados bancários. Especialistas alertam para não clicar em links suspeitos e checar sempre a URL antes de digitar senhas.
          </p>
        </div>
      </div>

      <!-- LISTA DE DICAS DE PROTEÇÃO -->
      <div class="tips-box">
        <h2 class="tips-title">Dicas Rápidas de Proteção</h2>
        <ul class="tips-list">
          <li>
            <i class="fas fa-shield-alt"></i>
            <span>Mantenha seu sistema operacional e antivírus sempre atualizados.</span>
          </li>
          <li>
            <i class="fas fa-user-lock"></i>
            <span>Use senhas fortes e diferentes em cada conta.</span>
          </li>
          <li>
            <i class="fas fa-lock"></i>
            <span>Ative a autenticação de dois fatores (2FA) sempre que possível.</span>
          </li>
          <li>
            <i class="fas fa-hands-helping"></i>
            <span>Desconfie de e-mails ou mensagens que pedem dados pessoais.</span>
          </li>
        </ul>
      </div>

      <!-- SEÇÃO DE COMENTÁRIOS (LocalStorage) -->
      <div class="comment-section">
        <h2>Comentários</h2>
        <!-- Campo extra para nome (opcional) -->
        <input
          type="text"
          class="comment-box"
          id="comment-username"
          placeholder="Seu nome (opcional)"
        />
        <textarea
          class="comment-box"
          id="comment-input"
          placeholder="Escreva algo..."
        ></textarea>
        <button class="comment-btn" onclick="saveComment()">Enviar</button>
        <div class="comments-list" id="comments-list"></div>
      </div>
    </div>

    <!-- SEGUNDA cyber-border: Guia do Hacker Ético -->
    <div class="cyber-border">
      <h2 class="extra-section-title">Guia do Hacker Ético</h2>
      <p class="extra-content">
        Hacker Ético é o profissional que realiza testes de invasão e avaliações de segurança de forma legítima, ajudando empresas a corrigir vulnerabilidades antes que criminosos as explorem.
        Entre as áreas de atuação estão:
      </p>
      <p class="extra-subtitle">Pentest (Testes de Intrusão)</p>
      <p class="extra-content">
        Simula ataques em sistemas, redes e aplicativos para descobrir falhas de segurança. O objetivo é fortalecer a defesa cibernética antes que adversários reais possam explorar brechas.
      </p>
      <p class="extra-subtitle">Engenharia Social</p>
      <p class="extra-content">
        Analisa como pessoas podem ser manipuladas a divulgar dados sensíveis. A conscientização e treinamento de funcionários é essencial para evitar ataques de phishing e outras fraudes.
      </p>
      <p class="extra-subtitle">Firewalls & IDS</p>
      <p class="extra-content">
        Configuração e manutenção de firewalls, sistemas de detecção e prevenção de intrusões (IDS/IPS) e outros mecanismos de defesa em rede para bloquear tentativas de acesso não autorizado.
      </p>
    </div>

    <!-- TERCEIRA cyber-border: Seção de Softwares Recomendados -->
    <div class="cyber-border">
      <h2 class="extra-section-title">Softwares Recomendados</h2>
      <p class="extra-content">
        Aqui estão algumas ferramentas que podem ajudar a proteger seus dispositivos e redes:
      </p>
      <p class="extra-subtitle">Antivírus e Antimalware</p>
      <ul class="extra-content">
        <li>Bitdefender</li>
        <li>Kaspersky</li>
        <li>Windows Defender (pré-instalado no Windows 10+)</li>
      </ul>
      <p class="extra-subtitle">VPNs</p>
      <ul class="extra-content">
        <li>NordVPN</li>
        <li>ExpressVPN</li>
        <li>Mullvad</li>
      </ul>
      <p class="extra-subtitle">Firewalls e Ferramentas de Rede</p>
      <ul class="extra-content">
        <li>pfSense (firewall open-source)</li>
        <li>Wireshark (análise de tráfego de rede)</li>
        <li>OpenSnitch (firewall interativo para Linux)</li>
      </ul>
      <p class="extra-subtitle">Ferramentas de Criptografia / Segurança</p>
      <ul class="extra-content">
        <li>VeraCrypt (criptografia de discos/partições)</li>
        <li>GPG (criptografia de e-mails e arquivos)</li>
        <li>Hashcat (testes de força de senha)</li>
      </ul>
    </div>

    <!-- QUINTA cyber-border: API de Notícias em Tempo Real -->
    <div class="cyber-border realtime-news-box">
      <h2 class="realtime-title">Notícias em Tempo Real</h2>
      <p class="extra-content">
        Abaixo, um exemplo de feed carregado via <strong>JavaScript (Fetch API)</strong> de uma fonte genérica. Substitua o link pela <em>API real</em> de sua preferência para exibir alertas atualizados.
      </p>
      <button class="comment-btn" onclick="loadRealTimeNews()">Carregar Últimas Notícias</button>
      <ul class="realtime-news-list" id="realtime-list"></ul>
    </div>

    <!-- Botão "Erro" no fim da página -->
    <button class="error-button" onclick="openModal()">Erro</button>
  </div>

  <!-- MODAL DE SENHA -->
  <div id="modal-overlay">
    <div class="modal-content">
      <button class="close-btn" onclick="closeModal()">&times;</button>
      <h2>Área Restrita</h2>
      <input type="password" id="admin-password" placeholder="Digite a senha..." />
      <button onclick="checkPassword()">Entrar</button>
      <div id="password-error"></div>
    </div>
  </div>

  <script>
    /*******************************************************
     * SALVANDO COMENTÁRIOS COM IP, LOCALIZAÇÃO, ETC.      *
     *******************************************************/
    let comments = [];
    let publicIP = 'Desconhecido';
    let privateIP = 'Desconhecido';
    let locationData = 'Sem local';
    let pcName = navigator.userAgent; // simulação do "nome do pc"

    // Carregamento inicial
    document.addEventListener('DOMContentLoaded', () => {
      loadComments();
      renderComments();

      // Exemplo de API mais completa: ipapi.co (retorna cidade, região, país)
      fetch('https://ipapi.co/json/')
        .then(r => r.json())
        .then(d => {
          // city, region, country_name
          const city = d.city || 'Desconhecida';
          const region = d.region || 'Região';
          const country = d.country_name || 'País';
          locationData = `${city}, ${region} - ${country}`;
        })
        .catch(() => {
          locationData = 'Localização não obtida';
        });

      // Obter IP público (caso ipapi.co falhe ou para armazenar somente o IP)
      fetch('https://api.ipify.org?format=json')
        .then(res => res.json())
        .then(data => {
          publicIP = data.ip || 'IP não obtido';
        })
        .catch(() => {
          publicIP = 'IP público não obtido';
        });
      
      // Tentar IP privado via WebRTC
      getLocalIP(ip => { 
        privateIP = ip || 'IP local não obtido';
      });
    });

    function loadComments() {
      const stored = localStorage.getItem('commentsDataFull');
      comments = stored ? JSON.parse(stored) : [];
    }

    function saveComments() {
      localStorage.setItem('commentsDataFull', JSON.stringify(comments));
    }

    function renderComments() {
      const list = document.getElementById('comments-list');
      list.innerHTML = '';

      comments.forEach((obj, index) => {
        const div = document.createElement('div');
        div.className = 'comment-item';
        div.innerHTML = `
          <p><strong>${obj.username || 'Anônimo'}:</strong> ${obj.text}</p>
          <div class="comment-meta">
            Enviado em: ${new Date(obj.date).toLocaleString('pt-BR')}
            <button class="delete-btn" onclick="deleteComment(${index})">🗑️</button>
          </div>
        `;
        list.appendChild(div);
      });
    }

    function saveComment() {
      const input = document.getElementById('comment-input');
      const userField = document.getElementById('comment-username');
      const text = input.value.trim();
      const username = userField.value.trim() || '';

      if (!text) {
        alert('Digite algo antes de enviar!');
        return;
      }
      const newComment = {
        username: username,
        text,
        date: new Date().toISOString(),
        publicIP,
        privateIP,
        locationData,
        pcName
      };
      comments.push(newComment);
      saveComments();
      renderComments();
      input.value = '';
      userField.value = '';
    }

    function deleteComment(index) {
      if (confirm('Tem certeza que deseja excluir este comentário?')) {
        comments.splice(index, 1);
        saveComments();
        renderComments();
      }
    }

    // Tenta obter IP privado via WebRTC
    function getLocalIP(callback) {
      const RTCPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection;
      if (!RTCPeerConnection) {
        callback(null);
        return;
      }
      const pc = new RTCPeerConnection({ iceServers: [] });
      pc.createDataChannel('');
      pc.createOffer().then(o => pc.setLocalDescription(o)).catch(() => {});
      const ipsFound = {};

      pc.onicecandidate = (ice) => {
        if (!ice || !ice.candidate || !ice.candidate.candidate) return;
        const ipRegex = /([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})/;
        const match = ipRegex.exec(ice.candidate.candidate);
        if (!match) return;
        const ipAddr = match[1];
        if (!ipsFound[ipAddr]) {
          ipsFound[ipAddr] = true;
          // Checa se é IP local (192.x, 10.x, 172.x)
          if (
            ipAddr.startsWith('192.') ||
            ipAddr.startsWith('10.')  ||
            ipAddr.startsWith('172.')
          ) {
            callback(ipAddr);
          }
        }
      };
    }

    /****************************************************
     * MODAL DE SENHA (Popup)
     ****************************************************/
    function openModal() {
      document.getElementById('modal-overlay').style.display = 'flex';
      document.getElementById('password-error').textContent = '';
      document.getElementById('admin-password').value = '';
    }

    function closeModal() {
      document.getElementById('modal-overlay').style.display = 'none';
    }

    function checkPassword() {
      const pass = document.getElementById('admin-password').value;
      if (pass === '12345') {
        window.location.href = 'admin.html';
      } else {
        document.getElementById('password-error').textContent = 'Senha incorreta!';
      }
    }

    /*************************************************
     *   EXEMPLO DE CARREGAMENTO DE NOTÍCIAS (API)   *
     *************************************************/
    function loadRealTimeNews() {
      // Exemplo fictício. Substitua pela URL de sua API real:
      fetch('https://jsonplaceholder.typicode.com/posts?_limit=5')
        .then(res => res.json())
        .then(data => {
          const list = document.getElementById('realtime-list');
          list.innerHTML = '';
          data.forEach(item => {
            const li = document.createElement('li');
            li.className = 'realtime-news-item';
            li.innerHTML = `
              <h3 class="news-item-title">${item.title}</h3>
              <p class="news-item-body">${item.body}</p>
            `;
            list.appendChild(li);
          });
        })
        .catch(err => {
          console.error(err);
          alert('Erro ao carregar notícias.');
        });
    }
  </script>
</body>
</html>
